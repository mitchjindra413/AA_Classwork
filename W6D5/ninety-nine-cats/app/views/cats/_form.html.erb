<% if type == :new %>
    <% action_url = cats_url %>
    <% button_text = 'Create Cat' %>
<% else %>
    <% action_url = cat_url(cat) %>
    <% button_text = 'Update Cat' %>
<% end %>

<h1><%= button_text %></h1>

<form action="<%= action_url %>" method= "POST">
    <% if type == :edit %>
        <input type="hidden" name="_method" value="PATCH" />
    <% end %>

    <label for="name">Name:</label>
    <input type="text" id="name" name="cat[name]" value="<%= @cat.name %>" />
    <br />

    <label for="birth_date">Birth Date:</label>
    <input type="date" id="birth_date" name="cat[birth_date]" value="<%= @cat.birth_date %>" />
    <br />

    <label for="color">Color:</label>
    <select id="color" name="cat[color]"> 
        <option disabled <%= @cat.color ? "" : "selected"%>> -- Select Color --</option>
        <% @cat.cat_colors.each do |color| %>
            <option value="<%= color %>" <%= @cat.color == color ? "selected" : "" %>> <%= color %> </option>
        <% end %>
    </select>
    <br />

    <label for="sex">Sex:</label>
    <select id="sex" name="cat[sex]"> 
        <option disabled <%= @cat.sex ? "" : "selected"%>> -- Select Gender --</option>
        <option value="M" <%= @cat.sex == "M" ? "selected" : "" %>> Male </option>
        <option value="F" <%= @cat.sex == "F" ? "selected" : "" %>> Female </option>
    </select>
    <br />

    <label for="description">Description:</label>
    <textarea id="description" name="cat[description]"><%= @cat.description %></textarea>
    <br />
    <input type='submit' value="<%= button_text %>" />
</form>
